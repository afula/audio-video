{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","controls","ref","width","height","src","videoUrl","type","filechange","$event","accept","removeAudio","startRecorder","resumeRecorder","pauseRecorder","stopRecorder","transcode","playRecorder","pausePlayRecorder","resumePlayRecorder","stopPlayRecorder","downPCM","downWAV","destroyRecorder","ffmpeg","recorder","drawRecordId","drawPlayId","recoderUrl","mounted","this","init","methods","FS","run","url","URL","createObjectURL","Blob","buffer","console","log","$refs","videoPlayer","load","e","resultFile","target","files","aBlob","sampleBits","sampleRate","numChannels","compiling","start","then","drawRecord","error","message","resume","pause","cancelAnimationFrame","stop","getWAVData","play","drawPlay","pausePlay","resumePlay","stopPlay","destroy","getRecordata","getRecordAnalyseData","getPCMData","pcmBlob","getPCMBlob","getWAVBlob","downloadPCM","downloadWAV","requestAnimationFrame","drawWave","canvas","record","dataArray","bgcolor","lineWidth","lineColor","getPlayAnalyseData","ctx","getContext","bufferLength","sliceWidth","x","fillStyle","fillRect","strokeStyle","beginPath","v","y","moveTo","lineTo","stroke","__exports__","render","createApp","App","mount"],"mappings":"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","file":"js/app.7602b9ab.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div class=\"VideoChoose\">\n    <video controls ref=\"videoPlayer\" width=\"320\" height=\"240\">\n    <source :src=\"videoUrl\" type=\"video/mp4\">\n    </video>\n  <input type=\"file\" @change=\"filechange($event)\" accept=\"video/*\">\n   <div class=\"BaseRecorder\">\n    <div class=\"BaseRecorder-record\">\n      <button @click=\"removeAudio()\">消除音频</button>\n      <button @click=\"startRecorder()\">开始录音</button>\n      <button @click=\"resumeRecorder()\">继续录音</button>\n      <button @click=\"pauseRecorder()\">暂停录音</button>\n      <button @click=\"stopRecorder()\">结束录音</button>\n      <button @click=\"transcode()\"> 配音</button>\n    </div>\n    <div class=\"BaseRecorder-play\">\n      <button @click=\"playRecorder()\">录音播放</button>\n      <button @click=\"pausePlayRecorder()\">暂停录音播放</button>\n      <button @click=\"resumePlayRecorder()\">恢复录音播放</button>\n      <button @click=\"stopPlayRecorder()\">停止录音播放</button>\n    </div>\n    <div class=\"BaseRecorder-download\">\n      <button @click=\"downPCM()\">下载PCM</button>\n      <button @click=\"downWAV()\">下载WAV</button>\n    </div>\n    <div class=\"BaseRecorder-destroy\">\n      <button type=\"error\" @click=\"destroyRecorder()\">销毁录音</button>\n    </div>\n    <div class=\"BaseRecorder-wave\">\n      <canvas ref=\"record\"></canvas>\n      <canvas ref=\"play\"></canvas>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\nimport Recorder from 'js-audio-recorder'\nimport { createFFmpeg, fetchFile } from '@ffmpeg/ffmpeg';\n\nexport default {\n  name: 'home',\n  data() {\n    return {\n      ffmpeg:null,\n      recorder: null,\n      // 波浪图-录音\n      drawRecordId: null,\n      // 波浪图-播放\n      drawPlayId: null,\n      videoUrl:\"taylorswift.mp4\",\n      recoderUrl:\"\"\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  methods: {\n    //配音\n    async  transcode() {\n      // const file = 'taylorswift.mp4'\n      // const audio = 'my.mp3'\n      this.ffmpeg.FS('writeFile', 'test.mp4', await fetchFile(this.videoUrl));\n      this.ffmpeg.FS('writeFile', 'my.pcm', await fetchFile(this.recoderUrl));\n      //音频格式转换\n      await this.ffmpeg.run('-i','my.pcm','my.mp3');\n      //消除音频\n      await this.ffmpeg.run('-i','test.mp4','-vcodec','copy','-an','no_audio_video.mp4');\n      //音视频合成\n      await this.ffmpeg.run('-y','-i','no_audio_video.mp4','-i','my.mp3','-vcodec','copy','-acodec','copy','get.mp4');\n      const data = this.ffmpeg.FS('readFile', 'get.mp4');\n      const url = URL.createObjectURL(new Blob([data.buffer], { type: 'video/mp4' }));\n      this.videoUrl = url\n      console.log(this.videoUrl)\n      this.$refs.videoPlayer.load()\n      console.log(url)\n    },\n    //消除音频\n    async removeAudio(){\n      this.ffmpeg.FS('writeFile', 'test.mp4', await fetchFile(this.videoUrl));\n      //消除音频\n      await this.ffmpeg.run('-i','test.mp4','-vcodec','copy','-an','no_audio_video.mp4');\n      const data = this.ffmpeg.FS('readFile', 'no_audio_video.mp4');\n      const url = URL.createObjectURL(new Blob([data.buffer], { type: 'video/mp4' }));\n      this.videoUrl = url\n      console.log(this.videoUrl)\n      this.$refs.videoPlayer.load()\n      console.log(url)\n\n    },\n    //从本地选择视频文件\n    filechange(e){   \n      console.log(e)\n      const resultFile = e.target.files;\n      console.log(resultFile[0])\n      const aBlob = new Blob([resultFile[0]],{type:'video/mp4'})\n      console.log(aBlob)\n      this.videoUrl = URL.createObjectURL(aBlob)\n      this.$refs.videoPlayer.load()\n      // const reader = new FileReader();\n      // reader.onload=(ev)=>{\n      //   this.videoUrl = ev.target.result\n      //   console.log(this.videoUrl)\n      //   this.$refs.videoPlayer.load()\n      // }\n      // reader.readAsDataURL(aBlob)\n      \n    },\n    // 初始化\n    async init() {\n      this.recorder = new Recorder({\n        // 采样位数，支持 8 或 16，默认是16\n        sampleBits: 16,\n        // 采样率，支持 11025、16000、22050、24000、44100、48000，根据浏览器默认值\n        sampleRate: 48000,\n        // 声道，支持 1 或 2， 默认是1\n        numChannels: 1,\n        // 是否边录边转换，默认是false\n        compiling: false\n      }),\n      this.ffmpeg = createFFmpeg({  \n      log: true,\n      });\n      await this.ffmpeg.load();\n    },\n    // 开始录音\n    startRecorder() {\n      this.recorder.start().then(\n        () => {\n          this.drawRecord()\n        },\n        error => {\n          // 出错了\n          console.log(`${error.name} : ${error.message}`)\n        }\n      )\n    },\n    // 继续录音\n    resumeRecorder() {\n      this.recorder.resume()\n    },\n    // 暂停录音\n    pauseRecorder() {\n      this.recorder.pause()\n      this.drawRecordId && cancelAnimationFrame(this.drawRecordId)\n      this.drawRecordId = null\n    },\n    // 结束录音\n    stopRecorder() {\n      this.recorder.stop()\n      this.drawRecordId && cancelAnimationFrame(this.drawRecordId)\n      this.drawRecordId = null\n      this.getWAVData()\n    },\n    // 录音播放\n    playRecorder() {\n      this.recorder.play()\n      this.drawPlay() // 绘制波浪图\n    },\n    // 暂停录音播放\n    pausePlayRecorder() {\n      this.recorder.pausePlay()\n    },\n    // 恢复录音播放\n    resumePlayRecorder() {\n      this.recorder.resumePlay()\n      this.drawPlay() // 绘制波浪图\n    },\n    // 停止录音播放\n    stopPlayRecorder() {\n      this.recorder.stopPlay()\n    },\n    // 销毁录音\n    destroyRecorder() {\n      this.recorder.destroy().then(function() {\n        this.drawRecordId && cancelAnimationFrame(this.drawRecordId)\n        this.drawRecordId = null\n\n        this.drawPlayId && cancelAnimationFrame(this.drawPlayId)\n        this.drawPlayId = null\n\n        this.recorder = null\n      })\n    },\n    // 获取录音buffer\n    getRecordata(){\n      // 获取录音数据 buffer\n      var buffer = this.recorder.getRecordAnalyseData()\n      this.recoderUrl = URL.createObjectURL(new Blob([buffer], { type: 'video/mp3' }));\n      console.log(buffer)\n    },\n\n    // 获取录音PCM数据\n    getPCMData(){\n      var pcmBlob = this.recorder.getPCMBlob()\n      console.log(pcmBlob)\n      this.recoderUrl = URL.createObjectURL(pcmBlob);\n      console.log(this.recoderUrl)\n\n    },\n\n      // 获取录音WAV数据\n    getWAVData(){\n      var Blob = this.recorder.getWAVBlob()\n      console.log(Blob)\n      this.recoderUrl = URL.createObjectURL(Blob);\n      console.log(this.recoderUrl)\n\n    },\n\n    /**\n     *  下载录音文件\n     * */\n    // 下载pcm\n    downPCM() {\n      // 这里传参进去的时文件名\n      this.recorder.downloadPCM('新文件')\n    },\n    // 下载wav\n    downWAV() {\n      // 这里传参进去的时文件名\n      this.recorder.downloadWAV('新文件')\n    },\n\n    /**\n     * 绘制波浪图-录音\n     * */\n    drawRecord() {\n      this.drawRecordId = requestAnimationFrame(this.drawRecord)\n      this.drawWave({\n        canvas: this.$refs.record,\n        dataArray: this.recorder.getRecordAnalyseData(),\n        bgcolor: 'rgb(255, 128, 200)',\n        lineWidth: 1,\n        lineColor: 'rgb(0, 128, 255)'\n      })\n    },\n    /**\n     * 绘制波浪图-播放\n     * */\n    drawPlay() {\n      this.drawPlayId = requestAnimationFrame(this.drawPlay)\n      this.drawWave({\n        canvas: this.$refs.play,\n        dataArray: this.recorder.getPlayAnalyseData()\n      })\n    },\n    drawWave({\n      canvas,\n      dataArray,\n      bgcolor = 'rgb(200, 200, 200)',\n      lineWidth = 2,\n      lineColor = 'rgb(0, 0, 0)'\n    }) {\n      if (!canvas) return\n\n      const ctx = canvas.getContext('2d')\n      const bufferLength = dataArray.length\n      // 一个点占多少位置，共有bufferLength个点要绘制\n      const sliceWidth = canvas.width / bufferLength\n      // 绘制点的x轴位置\n      let x = 0\n\n      // 填充背景色\n      ctx.fillStyle = bgcolor\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n      // 设定波形绘制颜色\n      ctx.lineWidth = lineWidth\n      ctx.strokeStyle = lineColor\n\n      ctx.beginPath()\n\n      for (let i = 0; i < bufferLength; i++) {\n        const v = dataArray[i] / 128\n        const y = (v * canvas.height) / 2\n\n        if (i === 0) {\n          // 第一个点\n          ctx.moveTo(x, y)\n        } else {\n          // 剩余的点\n          ctx.lineTo(x, y)\n        }\n        // 依次平移，绘制所有点\n        x += sliceWidth\n      }\n\n      // 最后一个点\n      ctx.lineTo(canvas.width, canvas.height / 2)\n      ctx.stroke()\n    }\n  }\n}\n</script>\n<style >\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=2bbe39ac\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/myway/wasm/vue-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n"],"sourceRoot":""}